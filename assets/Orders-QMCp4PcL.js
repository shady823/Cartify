import{d as r,r as x,e as o,j as e,m as n,E as p,G as h,p as u}from"./index-DkCHNvkI.js";import{S as d}from"./Skeleton-JuRaWzoZ.js";import{a as g}from"./orders-DwCKsmjF.js";const j={create:t=>r.post("/api/v1/checkout-sessions",t),getMyOrders:()=>r.get("/api/v1/orders/user/me")};function f(){const[t]=x.useState(()=>g()),{data:c,isLoading:l}=o({queryKey:["orders"],queryFn:()=>j.getMyOrders().then(s=>s.data).catch(()=>({data:[]}))}),m=c?.data??[],a=[...t,...m].sort((s,i)=>new Date(i.createdAt).getTime()-new Date(s.createdAt).getTime());return l&&a.length===0?e.jsxs("div",{className:"mx-auto max-w-4xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx(d,{className:"h-10 w-48 mb-8"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx(d,{className:"h-32 rounded-2xl"},s))})]}):a.length===0?e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mx-auto max-w-4xl px-4 py-16 sm:px-6 lg:px-8 text-center",children:[e.jsx(p,{className:"h-16 w-16 mx-auto text-muted mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-on-background mb-4",children:"No orders yet"}),e.jsx("p",{className:"text-muted",children:"When you place an order, it will appear here."})]}):e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-auto max-w-4xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-on-background mb-8",children:"Orders"}),e.jsx("div",{className:"space-y-4",children:a.map((s,i)=>e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},className:"rounded-2xl border border-border bg-card p-6 shadow-soft",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-mono text-sm text-muted",children:["#",s._id.slice(-8).toUpperCase()]}),e.jsxs("p",{className:"font-semibold text-on-background mt-1",children:["EGP ",s.totalOrderPrice]}),e.jsxs("p",{className:"text-sm text-muted mt-1",children:[new Date(s.createdAt).toLocaleDateString()," Â·"," ",s.cartItems.length," item(s)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:u("inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-sm font-medium",s.isPaid?"bg-success/20 text-success":"bg-warning/20 text-warning"),children:s.isPaid?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4"}),"Paid"]}):"Pending"}),s.isDelivered&&e.jsx("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-primary/20 px-3 py-1 text-sm font-medium text-primary",children:"Delivered"})]})]}),s.shippingAddress&&e.jsxs("div",{className:"mt-4 space-y-2 border-t border-border pt-4",children:[e.jsxs("p",{className:"text-sm text-muted",children:[e.jsx("span",{className:"font-medium text-on-background",children:"Address:"})," ",s.shippingAddress.details]}),e.jsxs("p",{className:"text-sm text-muted",children:[e.jsx("span",{className:"font-medium text-on-background",children:"City:"})," ",s.shippingAddress.city]}),e.jsxs("p",{className:"text-sm text-muted",children:[e.jsx("span",{className:"font-medium text-on-background",children:"Phone:"})," ",s.shippingAddress.phone]})]})]},s._id))})]})}export{f as Orders};
